(()=>{"use strict";function e(e){return"number"==typeof e||"string"==typeof e&&("NaN"===e||"Infinity"===e||"-Infinity"===e)}function t(e){return isNaN(e)?"NaN":isFinite(e)?e:e>0?"Infinity":"-Infinity"}function r(e){if("string"==typeof e){if("NaN"===e)return NaN;if("Infinity"===e)return 1/0;if("-Infinity"===e)return-1/0;throw new Error("Unable to decode "+e)}return e}class s{constructor(e,t,r,s){this.clear=e,this.varName=t,this.oldValue=r,this.newValue=s}}class i{constructor(){this._variables={gpa:3,semester:1,month:1,year:1,programming:50,hardware:50,research:0,internship:0,timeManagement:50,energy:100,stress:0,money:1e3},this._varLimits={gpa:[0,4],semester:[1,8],month:[1,12],year:[1,4],programming:[0,100],hardware:[0,100],research:[0,100],internship:[0,100],timeManagement:[0,100],energy:[0,100],stress:[0,100],money:[0,1e4]}}setVar(e,t,r=!1){if(r&&!(e in this._variables))throw new Error(`Variable "${e}" does not exist.`);this._varLimits[e]&&(t>this._varLimits[e][1]&&(t=this._varLimits[e][1]),t<this._varLimits[e][0]&&(t=this._varLimits[e][0]));let i=this._variables[e];if(this._variables[e]=t,i!==t){const r=new s(!1,e,i,t);setTimeout((()=>this.dispatchChangeEvent(r)),0)}}setVarLimits(e,t,r){if(isNaN(t))throw new Error("Lower bound cannot be NaN");if(isNaN(r))throw new Error("Upper bound cannot be NaN");if(t>r)throw new Error("Lower bound cannot be greater than upper bound.");if(this._varLimits[e]=[t,r],!(e in this._variables))return;const i=this._variables[e];if(i<t){this._variables[e]=t;const r=new s(!1,e,i,t);setTimeout((()=>this.dispatchChangeEvent(r)),0)}else if(i>r){this._variables[e]=r;const t=new s(!1,e,i,r);setTimeout((()=>this.dispatchChangeEvent(t)),0)}}getVarLimits(e){let t=this._varLimits[e];return t?[t[0],t[1]]:[-1/0,1/0]}getVar(e,t=!0){let r=this._variables[e];if(null==r&&t)throw new Error(`Variable "${e}" does not exist.`);return r}reset(){this.dispatchChangeEvent(new s(!0,"",0,0)),this._variables={}}dumpToConsole(){let e=[];e.push("[Variables (Limits)]");for(let t in this._variables){const r=this._varLimits[t],s=r?` ([${r[0]}, ${r[1]}])`:"";e.push(`${t}: ${this._variables[t]}${s}`)}console.log(e.join("\n"))}decodeFromJson(t){if(null===t||"object"!=typeof t||Array.isArray(t))throw new Error("Non-null JSON object expected.");this.reset();for(const s in t){const i=t[s];if(e(i))this.setVar(s,r(i));else if(Array.isArray(i)){if(3!==i.length)throw new Error("Expect 3 elements: value, lower bound, upper bound.");const[t,n,a]=i;if(!e(t))throw new Error("Invalid variable value.");if(!e(n))throw new Error("Invalid variable lower bound.");if(!e(a))throw new Error("Invalid variable upper bound.");this.setVar(s,r(t)),this.setVarLimits(s,r(n),r(a))}}}encodeAsJson(){let e={};for(const r in this._variables){const s=this._variables[r];if(r in this._varLimits){const[i,n]=this._varLimits[r];e[r]=[t(s),t(i),t(n)]}else e[r]=t(s)}return e}dispatchChangeEvent(e){this.onVariableChanged&&this.onVariableChanged(this,e)}}const n=5,a=3,o=2,h=8,c=10,m=15,g=20,d=10,l=12,p=15,u=8,y=-20,f=5,v=10,V=8,E=3,w=8,b=15,C=10,A=-10,M=500,N=.2,S=.1,x=.15,L=.5,I=.1,_=.05,k=.15,q=.03;class P{constructor(e){this.leetcodeProblemsSolved=0,this.interviewPrepSessions=0,this.store=e}attendClass(){const e=this.store.getVar("energy",!1)||0,t=this.store.getVar("stress",!1)||0,r=this.store.getVar("gpa",!1)||0;if(e<c)throw new Error("Not enough energy to attend class!");this.store.setVar("energy",e-c,!1),this.store.setVar("stress",t+f,!1),this.store.setVar("gpa",Math.min(4,r+.01),!1)}doHomework(){const e=this.store.getVar("energy",!1)||0,t=this.store.getVar("stress",!1)||0,r=this.store.getVar("programming",!1)||0,s=this.store.getVar("gpa",!1)||0;if(e<m)throw new Error("Not enough energy to do homework!");this.store.setVar("energy",e-m,!1),this.store.setVar("stress",t+v,!1),this.store.setVar("programming",r+n,!1),this.store.setVar("gpa",Math.min(4,s+.02),!1)}solveLeetcode(){const e=this.store.getVar("energy",!1)||0,t=this.store.getVar("stress",!1)||0,r=this.store.getVar("programming",!1)||0;if(e<l)throw new Error("Not enough energy to solve LeetCode problems!");this.store.setVar("energy",e-l,!1),this.store.setVar("stress",t+w,!1),this.store.setVar("programming",r+h,!1),this.leetcodeProblemsSolved++}prepareForInterview(){const e=this.store.getVar("energy",!1)||0,t=this.store.getVar("stress",!1)||0;if(e<p)throw new Error("Not enough energy to prepare for interviews!");this.store.setVar("energy",e-p,!1),this.store.setVar("stress",t+b,!1),this.interviewPrepSessions++}applyForJobs(){const e=this.store.getVar("energy",!1)||0,t=this.store.getVar("stress",!1)||0;if(e<u)throw new Error("Not enough energy to apply for jobs!");const r=Math.min(L,this.leetcodeProblemsSolved/10*S),s=Math.min(L-r,this.interviewPrepSessions*x),i=N+r+s;return this.store.setVar("energy",e-u,!1),this.store.setVar("stress",t+C,!1),i}doResearch(){const e=this.store.getVar("energy",!1)||0,t=this.store.getVar("stress",!1)||0,r=this.store.getVar("research",!1)||0,s=this.store.getVar("money",!1)||0;if(e<g)throw new Error("Not enough energy to do research!");this.store.setVar("energy",e-g,!1),this.store.setVar("stress",t+V,!1),this.store.setVar("research",r+a,!1),this.store.setVar("money",s+M,!1)}attendClub(){const e=this.store.getVar("energy",!1)||0,t=this.store.getVar("stress",!1)||0,r=this.store.getVar("timeManagement",!1)||0;if(e<d)throw new Error("Not enough energy to attend club!");this.store.setVar("energy",e-d,!1),this.store.setVar("stress",t+E,!1),this.store.setVar("timeManagement",r+o,!1)}rest(){const e=this.store.getVar("energy",!1)||0,t=this.store.getVar("stress",!1)||0;this.store.setVar("energy",Math.min(100,e-y),!1),this.store.setVar("stress",Math.max(0,t+A),!1)}getAvailableActivities(){const e=this.store.getVar("semester",!1)||1,t=this.store.getVar("year",!1)||1;let r=[];return[{name:"ECE 110 - Introduction to Electronics",description:"Learn basic electronics concepts, circuit analysis, and lab skills.",requirements:{year:1,semester:1},effects:{hardware:.3,energy:-.2,stress:.1}},{name:"ECE 120 - Introduction to Computing",description:"Study digital logic, computer organization, and assembly programming.",requirements:{year:1,semester:1},effects:{programming:.3,energy:-.2,stress:.1}},{name:"ECE 210 - Analog Signal Processing",description:"Advanced circuit analysis, analog electronics, and signal processing.",requirements:{year:1,semester:2},effects:{hardware:.4,energy:-.3,stress:.2}},{name:"ECE 220 - Computer Systems & Programming",description:"Computer architecture, C programming, and system design.",requirements:{year:1,semester:2},effects:{programming:.4,energy:-.3,stress:.2}},{name:"ECE 310 - Digital Signal Processing",description:"Digital signal processing theory and applications.",requirements:{year:2,semester:1},effects:{hardware:.5,programming:.3,energy:-.4,stress:.3}},{name:"ECE 329 - Fields and Waves",description:"Electromagnetic theory and applications.",requirements:{year:2,semester:1},effects:{hardware:.5,energy:-.4,stress:.3}},{name:"ECE 385 - Digital Systems Laboratory",description:"FPGA design and digital system implementation.",requirements:{year:2,semester:2},effects:{hardware:.6,programming:.4,energy:-.5,stress:.4}},{name:"ECE 391 - Computer Systems Engineering",description:"Operating systems, networking, and system programming.",requirements:{year:2,semester:2},effects:{programming:.6,energy:-.5,stress:.4}}].forEach((s=>{s.requirements.year===t&&s.requirements.semester===e&&r.push(this.createCourseActivity(s))})),t>=3&&[{name:"ECE 408 - Applied Parallel Programming",description:"Learn parallel computing and GPU programming.",requirements:{year:3},effects:{programming:.7,energy:-.4,stress:.3}},{name:"ECE 445 - Senior Design Project",description:"Capstone project course for ECE seniors.",requirements:{year:4},effects:{hardware:.8,programming:.8,energy:-.6,stress:.5}},{name:"ECE 448 - Artificial Intelligence",description:"Study AI algorithms and machine learning.",requirements:{year:3},effects:{programming:.7,energy:-.4,stress:.3}}].forEach((e=>{e.requirements.year<=t&&r.push(this.createCourseActivity(e))})),t>=2&&[{name:"Join Research Lab",description:"Work with professors on cutting-edge research projects.",requirements:{year:2},effects:{research:.4,energy:-.3,stress:.2}},{name:"Summer Research Program",description:"Full-time research during summer break.",requirements:{year:2},effects:{research:.6,money:3e3,energy:-.5,stress:.3}}].forEach((e=>{e.requirements.year<=t&&r.push(this.createActivity(e))})),t>=2&&[{name:"Apply for Internships",description:"Prepare resumes and interview for tech companies.",requirements:{year:2},effects:{internship:.2,energy:-.2,stress:.1}},{name:"Summer Internship",description:"Work at a tech company during summer break.",requirements:{year:3},effects:{internship:.8,money:8e3,energy:-.4,stress:.2}}].forEach((e=>{e.requirements.year<=t&&r.push(this.createActivity(e))})),[{name:"Study for Exams",description:"Intensive study session for upcoming exams.",effects:{gpa:.1,energy:-.3,stress:.2}},{name:"Join Study Group",description:"Collaborative learning with classmates.",effects:{gpa:.15,energy:-.2,stress:-.1}}].forEach((e=>{r.push(this.createActivity(e))})),[{name:"Attend ECE Social Events",description:"Network with peers and professors.",effects:{stress:-.2,energy:-.1}},{name:"Join ECE Student Organizations",description:"Participate in IEEE, HKN, or other ECE clubs.",effects:{stress:-.15,energy:-.1}}].forEach((e=>{r.push(this.createActivity(e))})),r}createCourseActivity(e){return{name:e.name,description:e.description,execute:t=>{if((t.getVar("energy",!1)||1)<.2)throw new Error("You're too tired to take this course!");Object.entries(e.effects).forEach((([e,r])=>{const s=t.getVar(e,!1)||0;t.setVar(e,s+r,!1)}));const r=.4*Math.random()+.6,s=((t.getVar("gpa",!1)||3)+r)/2;t.setVar("gpa",s,!1)}}}createActivity(e){return{name:e.name,description:e.description,execute:t=>{if((t.getVar("energy",!1)||1)<.2)throw new Error("You're too tired for this activity!");Object.entries(e.effects).forEach((([e,r])=>{const s=t.getVar(e,!1)||0;t.setVar(e,s+r,!1)}))}}}}class ${constructor(e){this.store=e,this.events=this.initializeEvents()}initializeEvents(){return[{name:"Plagiarism Check",description:"Your homework has been flagged for potential plagiarism!",probability:I,execute:e=>{const t=e.getVar("gpa",!1)||0,r=e.getVar("stress",!1)||0;e.setVar("gpa",Math.max(0,t-.5),!1),e.setVar("stress",Math.min(100,r+30),!1)}},{name:"Research Opportunity",description:"A professor has noticed your good work and offered you a research position!",probability:_,execute:e=>{const t=e.getVar("research",!1)||0,r=e.getVar("money",!1)||0;e.setVar("research",Math.min(100,t+20),!1),e.setVar("money",r+1e3,!1)}},{name:"Networking Event",description:"You've been invited to a networking event with industry professionals!",probability:k,execute:e=>{const t=e.getVar("internship",!1)||0;e.setVar("internship",Math.min(100,t+15),!1)}},{name:"Mentor Found",description:"You've found a great mentor who can guide your career!",probability:q,execute:e=>{const t=e.getVar("research",!1)||0,r=e.getVar("internship",!1)||0;e.setVar("research",Math.min(100,t+10),!1),e.setVar("internship",Math.min(100,r+10),!1)}},{name:"Midterm Exam",description:"Time for midterm exams!",probability:.25,execute:e=>{const t=e.getVar("gpa",!1)||0,r=e.getVar("stress",!1)||0,s=.6*Math.random()-.3;e.setVar("gpa",Math.max(0,Math.min(4,t+s)),!1),e.setVar("stress",Math.min(100,r+20),!1)}},{name:"Study Group",description:"Your classmates invite you to join their study group!",probability:.2,execute:e=>{const t=e.getVar("gpa",!1)||0,r=e.getVar("stress",!1)||0;e.setVar("gpa",Math.min(4,t+.1),!1),e.setVar("stress",Math.max(0,r-5),!1)}}]}checkForEvents(){const e=[];for(const t of this.events)Math.random()<t.probability&&e.push(t);return e}executeEvent(e){e.execute(this.store)}}class F{constructor(){this.store=new i,this.activitySystem=new P(this.store),this.eventSystem=new $(this.store),this.store.onVariableChanged=this.handleVariableChange.bind(this),this.initializeUI()}initializeUI(){const e=document.getElementById("activities-grid");e&&this.activitySystem.getAvailableActivities().forEach((t=>{const r=this.createActivityCard(t);e.appendChild(r)})),this.updateAllStatus()}createActivityCard(e){const t=document.createElement("div");t.className="activity-card";const r=document.createElement("h4");r.textContent=e.name;const s=document.createElement("p");return s.textContent=e.description,t.appendChild(r),t.appendChild(s),t.addEventListener("click",(()=>this.handleActivityClick(e))),t}handleActivityClick(e){try{e.execute(this.store),this.addEventToLog(`You chose to ${e.name.toLowerCase()}`),this.eventSystem.checkForEvents().forEach((e=>{this.eventSystem.executeEvent(e),this.addEventToLog(e.description)})),this.advanceMonth()}catch(e){e instanceof Error?this.showMessage(e.message):this.showMessage("An unexpected error occurred")}}handleVariableChange(e,t){t.clear?this.updateAllStatus():this.updateStatus(t.varName,t.newValue)}updateAllStatus(){["gpa","semester","month","year","programming","hardware","research","internship","energy","stress","money"].forEach((e=>{const t=this.store.getVar(e,!1);void 0!==t&&this.updateStatus(e,t)}))}updateStatus(e,t){const r=document.getElementById(e);r&&(r.textContent="money"===e?`$${Math.floor(t)}`:t.toFixed(2));const s=document.getElementById(`${e}-progress`);if(s){const[r,i]=this.store.getVarLimits(e),n=(t-r)/(i-r)*100;s.style.width=`${n}%`}}advanceMonth(){let e=this.store.getVar("month",!1)||1,t=this.store.getVar("semester",!1)||1,r=this.store.getVar("year",!1)||1;e++,e>4&&(e=1,t++,t>2&&(t=1,r++,r>4))?this.showMessage("Congratulations! You have completed your ECE degree!"):(this.store.setVar("month",e,!1),this.store.setVar("semester",t,!1),this.store.setVar("year",r,!1),this.showMessage(`Starting month ${e} of semester ${t}, year ${r}`))}addEventToLog(e){const t=document.getElementById("event-log-content");if(t){const r=document.createElement("div");r.className="event-item",r.textContent=e,t.insertBefore(r,t.firstChild)}}showMessage(e){const t=document.getElementById("message-box");t&&(t.textContent=e)}}window.addEventListener("load",(()=>{new F}))})();
//# sourceMappingURL=bundle.js.map